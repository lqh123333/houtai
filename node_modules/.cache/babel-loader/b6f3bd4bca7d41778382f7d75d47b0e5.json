{"ast":null,"code":"import VueRouter from \"vue-router\";\nimport Login from '../src/view/Login';\nimport Home from '../src/view/home';\nvar router = new VueRouter({\n  routes: [{\n    path: '/',\n    redirect: '/login'\n  }, {\n    path: '/login',\n    component: Login,\n    meta: {\n      title: '登录'\n    }\n  }, {\n    path: '/home',\n    component: Home,\n    meta: {\n      isAbout: true,\n      title: '主页'\n    }\n  }]\n}); //前置路由守卫\n\nrouter.beforeEach(function (to, from, next) {\n  if (to.meta.isAbout) {\n    if (sessionStorage.getItem('token')) {\n      next();\n    } else {\n      next('/login');\n    }\n  } else {\n    next();\n  }\n}); //后置路由守卫\n\nrouter.afterEach(function (to) {\n  document.title = to.meta.title || '后台管理系统';\n});\nexport default router;","map":{"version":3,"names":["VueRouter","Login","Home","router","routes","path","redirect","component","meta","title","isAbout","beforeEach","to","from","next","sessionStorage","getItem","afterEach","document"],"sources":["C:/Users/Administrator/Desktop/项目/backstage/router/index.js"],"sourcesContent":["import VueRouter from \"vue-router\";\r\nimport Login from '../src/view/Login'\r\nimport Home from '../src/view/home'\r\nconst router = new VueRouter({\r\n    routes: [\r\n        {\r\n            path:'/',\r\n            redirect:'/login'\r\n        },\r\n        {\r\n            path:'/login',\r\n            component:Login,\r\n            meta:{title:'登录'}\r\n        },\r\n        {\r\n            path:'/home',\r\n            component:Home,\r\n            meta:{isAbout:true,title:'主页'}\r\n        }\r\n    ]\r\n})\r\n//前置路由守卫\r\nrouter.beforeEach((to,from,next)=>{\r\n    if(to.meta.isAbout){\r\n        if(sessionStorage.getItem('token')){\r\n            next()\r\n        }else{\r\n            next('/login')\r\n        }\r\n    }else{\r\n        next()\r\n    }\r\n    \r\n})\r\n//后置路由守卫\r\n\r\nrouter.afterEach((to)=>{\r\n    document.title=to.meta.title ||'后台管理系统'\r\n\r\n})\r\n\r\nexport default router"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,IAAMC,MAAM,GAAG,IAAIH,SAAJ,CAAc;EACzBI,MAAM,EAAE,CACJ;IACIC,IAAI,EAAC,GADT;IAEIC,QAAQ,EAAC;EAFb,CADI,EAKJ;IACID,IAAI,EAAC,QADT;IAEIE,SAAS,EAACN,KAFd;IAGIO,IAAI,EAAC;MAACC,KAAK,EAAC;IAAP;EAHT,CALI,EAUJ;IACIJ,IAAI,EAAC,OADT;IAEIE,SAAS,EAACL,IAFd;IAGIM,IAAI,EAAC;MAACE,OAAO,EAAC,IAAT;MAAcD,KAAK,EAAC;IAApB;EAHT,CAVI;AADiB,CAAd,CAAf,C,CAkBA;;AACAN,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAgB;EAC9B,IAAGF,EAAE,CAACJ,IAAH,CAAQE,OAAX,EAAmB;IACf,IAAGK,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAH,EAAmC;MAC/BF,IAAI;IACP,CAFD,MAEK;MACDA,IAAI,CAAC,QAAD,CAAJ;IACH;EACJ,CAND,MAMK;IACDA,IAAI;EACP;AAEJ,CAXD,E,CAYA;;AAEAX,MAAM,CAACc,SAAP,CAAiB,UAACL,EAAD,EAAM;EACnBM,QAAQ,CAACT,KAAT,GAAeG,EAAE,CAACJ,IAAH,CAAQC,KAAR,IAAgB,QAA/B;AAEH,CAHD;AAKA,eAAeN,MAAf"},"metadata":{},"sourceType":"module"}